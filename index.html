<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>FP ROBOTIK | HUB CENTRAL</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Roboto:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00d4ff;
            --dark-core: #000814;
            --circuit-line: rgba(0, 212, 255, 0.15);
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--dark-core);
            /* FONDO DE CIRCUITOS (Simulando tu foto) */
            background-image: 
                linear-gradient(var(--circuit-line) 1px, transparent 1px),
                linear-gradient(90deg, var(--circuit-line) 1px, transparent 1px),
                radial-gradient(circle at center, #001a33 0%, var(--dark-core) 100%);
            background-size: 40px 40px, 40px 40px, cover;
            color: white; font-family: 'Roboto', sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; flex-direction: column; align-items: center;
        }

        /* Efecto de líneas de circuito diagonales adicionales */
        body::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/circuit-board.png');
            opacity: 0.3; pointer-events: none;
        }

        .header { margin-top: 40px; text-align: center; z-index: 10; }
        .header h1 {
            font-family: 'Orbitron'; font-size: 3.2rem; letter-spacing: 12px; margin: 0;
            color: #fff; text-shadow: 0 0 20px var(--neon-blue), 0 0 40px var(--neon-blue);
        }

        .network-grid {
            position: relative; width: 1000px; height: 600px;
            display: flex; justify-content: center; align-items: center;
        }

        /* NODO CENTRAL (Servidor) */
        .server-hub {
            width: 240px; height: 240px;
            background: rgba(0, 20, 40, 0.9);
            border: 3px solid var(--neon-blue); border-radius: 50%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            box-shadow: 0 0 50px var(--neon-blue), inset 0 0 30px var(--neon-blue);
            z-index: 5; backdrop-filter: blur(10px);
        }

        /* BOTONES / NODOS EXTERNOS */
        .node-btn {
            position: absolute; width: 250px; padding: 25px;
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid var(--neon-blue); border-radius: 15px;
            cursor: pointer; transition: 0.4s all; backdrop-filter: blur(10px);
            text-align: center; z-index: 10;
        }

        .node-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: scale(1.1) translateY(-10px);
            box-shadow: 0 0 30px var(--neon-blue);
        }

        /* Ubicaciones de los nodos */
        .n-salesianos { top: 10%; left: 5%; }
        .n-repelega { top: 10%; right: 5%; opacity: 0.5; }
        .n-blockly { bottom: 10%; left: 50%; transform: translateX(-50%); border-bottom-width: 5px; }

        /* Conexiones de Red Animadas */
        .conn-svg { position: absolute; width: 100%; height: 100%; pointer-events: none; }
        .conn-line { stroke: var(--neon-blue); stroke-width: 2; stroke-dasharray: 15; animation: flow 2s infinite linear; opacity: 0.4; }
        @keyframes flow { from { stroke-dashoffset: 150; } to { stroke-dashoffset: 0; } }

        /* Capa para Blockly */
        #blockly-layer {
            position: fixed; top: 100%; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 1000; transition: 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        #blockly-layer.active { top: 5%; border-radius: 40px 40px 0 0; border-top: 4px solid var(--neon-blue); }
        .close-bar { padding: 15px; text-align: right; color: var(--neon-blue); cursor: pointer; font-family: 'Orbitron'; background: #111; border-radius: 40px 40px 0 0; }
    </style>
</head>
<body>

    <div class="header">
        <h1>FP ROBOTIK INTERFACE</h1>
        <p style="color: var(--neon-blue); letter-spacing: 5px;">SERVIDOR CENTRALIZADO</p>
    </div>

    <div class="network-grid">
        <svg class="conn-svg">
            <line class="conn-line" x1="500" y1="300" x2="200" y2="120" />
            <line class="conn-line" x1="500" y1="300" x2="800" y2="120" />
            <line class="conn-line" x1="500" y1="300" x2="500" y2="480" />
        </svg>

        <div class="server-hub">
            <span style="font-size: 0.7rem; letter-spacing: 2px;">NETWORK CORE</span>
            <div style="font-family: 'Orbitron'; font-size: 1.8rem; color: #fff;">ACTIVE</div>
        </div>

        <div class="node-btn n-salesianos" onclick="window.open('http://192.168.200.1:1880/ui/#/0', '_blank')">
            <div style="font-family:'Orbitron'; color: var(--neon-blue);">DASHBOARD IOT</div>
            <div style="font-size: 0.8rem; margin-top:5px;">SALESIANOS URNIETA</div>
        </div>

        <div class="node-btn n-repelega">
            <div style="font-family:'Orbitron'; color: #555;">IOT REPELEGA</div>
            <div style="font-size: 0.8rem; margin-top:5px;">SIN CONEXIÓN</div>
        </div>

        <div class="node-btn n-blockly" onclick="openBlockly()">
            <div style="font-family:'Orbitron'; color: var(--neon-blue); font-size: 1.2rem;">CONVERSOR BLOCKLY</div>
            <div style="font-size: 0.8rem; margin-top:5px;">ENTORNO DE PROGRAMACIÓN V2</div>
        </div>
    </div>

    <div id="blockly-layer">
        <div class="close-bar" onclick="closeBlockly()">CERRAR INTERFAZ [X]</div>
        <iframe id="blockly-frame" src="" style="width: 100%; height: 95%; border: none;"></iframe>
    </div>

    <script>
        function openBlockly() {
            document.getElementById('blockly-frame').src = 'https://yunamuno.github.io/FP_Robotik_Interface_v2/';
            document.getElementById('blockly-layer').classList.add('active');
        }
        function closeBlockly() {
            document.getElementById('blockly-layer').classList.remove('active');
            setTimeout(() => { document.getElementById('blockly-frame').src = ''; }, 800);
        }
    </script>
</body>
</html>
